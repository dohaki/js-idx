(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{54:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return o})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return b}));var a=n(2),i=n(6),r=(n(0),n(83)),c={title:"Getting started with the CLI"},o={unversionedId:"guide-cli",id:"guide-cli",isDocsHomePage:!1,title:"Getting started with the CLI",description:"Prerequisites",source:"@site/docs/guide-cli.md",slug:"/guide-cli",permalink:"/docs/guide-cli",editUrl:"https://github.com/ceramicstudio/js-idx/edit/master/website/docs/guide-cli.md",version:"current",sidebar:"docs",previous:{title:"IDX Web library",permalink:"/docs/libs-web"},next:{title:"Reading public data",permalink:"/docs/guide-public-data"}},l=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Installation",id:"installation",children:[]},{value:"Up and running",id:"up-and-running",children:[{value:"Explicit flag",id:"explicit-flag",children:[]},{value:"Environment variable",id:"environment-variable",children:[]},{value:"CLI configuration",id:"cli-configuration",children:[]},{value:"Local Ceramic daemon (default)",id:"local-ceramic-daemon-default",children:[]}]},{value:"Bootstrap Ceramic for IDX",id:"bootstrap-ceramic-for-idx",children:[]},{value:"Create your DID",id:"create-your-did",children:[]},{value:"Check IDX support",id:"check-idx-support",children:[]},{value:"Interact with IDX",id:"interact-with-idx",children:[]}],s={rightToc:l};function b(e){var t=e.components,n=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"prerequisites"},"Prerequisites"),Object(r.b)("p",null,"The Ceramic and IDX CLIs require the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://nodejs.org/en/"}),"Node.js runtime")," and the npm CLI to be installed."),Object(r.b)("p",null,"If you have not installed the Ceramic CLI, it is recommended you use it alongside the IDX CLI, otherwise you will have to use a remote Ceramic server:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"npm install --global @ceramicnetwork/ceramic-cli\n")),Object(r.b)("h2",{id:"installation"},"Installation"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"npm install --global @ceramicstudio/idx-cli\n")),Object(r.b)("p",null,"The CLI should then be accessible as ",Object(r.b)("inlineCode",{parentName:"p"},"idx"),"."),Object(r.b)("h2",{id:"up-and-running"},"Up and running"),Object(r.b)("p",null,"Most commands of the IDX CLI need to communicate with a Ceramic HTTP server, using one of the following options:"),Object(r.b)("h3",{id:"explicit-flag"},"Explicit flag"),Object(r.b)("p",null,"By setting the ",Object(r.b)("inlineCode",{parentName:"p"},"--ceramic")," flag when running a command, it is possible to specify what Ceramic HTTP URL to use, for example:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"idx index:check <did> --ceramic=https://my-ceramic-server.tld\n")),Object(r.b)("h3",{id:"environment-variable"},"Environment variable"),Object(r.b)("p",null,"If present, the ",Object(r.b)("inlineCode",{parentName:"p"},"CERAMIC_URL")," environment variable will be used by the CLI, for example on a UNIX system:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"CERAMIC_URL=https://my-ceramic-server.tld idx index:check <did>\n")),Object(r.b)("h3",{id:"cli-configuration"},"CLI configuration"),Object(r.b)("p",null,"Instead of having to explicitely provide a command flag or environment variable, the default Ceramic HTTP URL to connect to can be stored in a configuration used by the CLI, such as:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"idx config:set ceramic-url https://my-ceramic-server.tld\n")),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"config:get")," command can be used to check the URL stored in configuration:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"idx config:get ceramic-url\n")),Object(r.b)("h3",{id:"local-ceramic-daemon-default"},"Local Ceramic daemon (default)"),Object(r.b)("p",null,"If no other method is provided, the CLI will fallback to use the default URL of the Ceramic daemon: ",Object(r.b)("inlineCode",{parentName:"p"},"http://localhost:7007"),"."),Object(r.b)("p",null,"If you see an error when using the IDX CLI stating it can't connect to ",Object(r.b)("inlineCode",{parentName:"p"},"http://localhost:7007"),", it means no other URL has been provided and the Ceramic daemon is not running."),Object(r.b)("p",null,"To start the Ceramic daemon, having the Ceramic CLI installed as ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"#prerequisites"}),"instructed above"),", simply run the ",Object(r.b)("inlineCode",{parentName:"p"},"daemon")," command:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"ceramic daemon\n")),Object(r.b)("h2",{id:"bootstrap-ceramic-for-idx"},"Bootstrap Ceramic for IDX"),Object(r.b)("p",null,"The IDX library relies on some Ceramic documents used as schemas and definitions from the IDX specifications to be accessible on the Ceramic network."),Object(r.b)("p",null,"When using the main Ceramic network and public testnets it is likely these documents would already be present, but for private test networks and local nodes, you may have to ensure these documents are created before using IDX."),Object(r.b)("p",null,"In order to bootstrap a Ceramic network with the necessary IDX documents, simply run the ",Object(r.b)("inlineCode",{parentName:"p"},"bootstrap")," command:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"idx bootstrap\n")),Object(r.b)("h2",{id:"create-your-did"},"Create your DID"),Object(r.b)("p",null,"IDX uses Decentralized Identifiers (DID) for authentication and Identity Index documents are therefore controlled by a DID."),Object(r.b)("p",null,"Before being able to interact with the Identity Index document, it is necessary to create the DID that will control it.\nThis can easily be done using the IDX CLI:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"idx did:create --label=me\n")),Object(r.b)("p",null,"Here we also set the optional ",Object(r.b)("inlineCode",{parentName:"p"},"label")," flag as a local identifier for the DID, providing a simpler way to reference it."),Object(r.b)("p",null,"It is possible to display all the locally created DIDs and their labels by running the ",Object(r.b)("inlineCode",{parentName:"p"},"did:list")," command:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"idx did:list\n")),Object(r.b)("h2",{id:"check-idx-support"},"Check IDX support"),Object(r.b)("p",null,"By running then ",Object(r.b)("inlineCode",{parentName:"p"},"index:check")," it is possible to check if a given DID supports IDX."),Object(r.b)("p",null,"Assuming you have created a DID using the step above, you can run the command to confirm your DID can be used with IDX:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"idx index:check me\n")),Object(r.b)("h2",{id:"interact-with-idx"},"Interact with IDX"),Object(r.b)("p",null,"Finally, once all the steps above have been successfully followed, you can start interacting with contents in your Identity Index, for example setting your basic profile using the provided IDX definition:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),'idx index:set me basicProfile \'{"name":"Alice"}\'\n')),Object(r.b)("p",null,"By running the ",Object(r.b)("inlineCode",{parentName:"p"},"index:get")," command, you can check the stored document contents:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-sh"}),"idx index:get me basicProfile\n")),Object(r.b)("p",null,"All the commands provided by the IDX CLI can be found in ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"https://github.com/ceramicstudio/idx-cli#usage"}),"the CLI documentation"),"."))}b.isMDXComponent=!0},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var a=n(0),i=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=i.a.createContext({}),b=function(e){var t=i.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=b(e.components);return i.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},p=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=b(n),p=a,m=d["".concat(c,".").concat(p)]||d[p]||u[p]||r;return n?i.a.createElement(m,o(o({ref:t},s),{},{components:n})):i.a.createElement(m,o({ref:t},s))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,c=new Array(r);c[0]=p;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:a,c[1]=o;for(var s=2;s<r;s++)c[s]=n[s];return i.a.createElement.apply(null,c)}return i.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"}}]);